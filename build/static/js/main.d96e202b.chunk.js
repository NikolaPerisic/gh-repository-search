(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){},26:function(e,t,a){e.exports=a(55)},31:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),o=a.n(s),l=(a(31),a(7)),i=a.n(l),c=a(23),u=a(18),d=a(19),m=a(20),p=a(24),h=a(21),f=a(25),g=(a(10),a(22)),v=a.n(g),y=a(8),b=function(e){var t=new Date(e.updatedAt).toLocaleDateString(),a=null;return e.homepageUrl&&(a=r.a.createElement("a",{href:e.homepageUrl,target:"blank",className:"homepageUrl"},e.homepageUrl)),r.a.createElement("div",{className:"list-item"},r.a.createElement("div",{className:"inline-item"},r.a.createElement("a",{href:e.url,target:"blank",className:"url"},e.name),r.a.createElement("div",{className:"item-right"},r.a.createElement(y.a,{icon:"star",className:"starIcon"}),r.a.createElement("p",{className:"stars"},e.stars),r.a.createElement(y.a,{icon:"code-branch",className:"forkIcon"}),r.a.createElement("p",{className:"forks"},e.forks))),r.a.createElement("p",null,e.description),r.a.createElement("div",{className:"detailsInfo"},a,r.a.createElement("p",{className:"updatedAt"},"Updated: ",t)))},E="\nquery($first: Int!, $after: String, $query: String!, $type: SearchType!)\n{\n  rateLimit {\n    limit\n    cost\n    remaining\n    resetAt\n  }\n  search(first: $first, after: $after, query: $query, type: $type) {\n    edges {\n      node {\n        ... on Repository {\n          name\n          url\n          homepageUrl\n          resourcePath\n          description\n          stargazers {\n            totalCount\n          }\n          forks {\n            totalCount\n          }\n          updatedAt\n        }\n      }\n    }\n    pageInfo {\n      startCursor\n      hasNextPage\n      endCursor\n    }\n  }\n}\n",S={first:15,after:null,query:"javascript",type:"REPOSITORY"},N=a(4),w=a(5);N.b.add(w.a,w.b);var k=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={query:E,variables:S,error:null,isLoaded:!1,queryString:"javascript",items:[],pageInfo:{}},a.onScroll=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight-100&&a.state.items.length&&a.state.isLoaded&&a.addContent()},a.getRepos=function(){var e=Object(u.a)(i.a.mark(function e(t,n){var r,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("https://api.github.com/graphql",{query:t,variables:n},{headers:{Authorization:"token ".concat("")}});case 3:r=e.sent,s=Object(c.a)(a.state.items).concat(r.data.data.search.edges),a.setState(function(){return{isLoaded:!0,items:s,pageInfo:r.data.data.search.pageInfo}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a.setState(function(){return{error:e.t0}});case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}(),a.handleInputChange=function(e){a.setState({queryString:e.target.value})},a.handleSearch=function(e){e.preventDefault();var t=a.state.variables;t.query=a.state.queryString,a.setState({variables:t,isLoaded:!1,items:[]}),a.getRepos(a.state.query,a.state.variables)},a.addContent=function(){var e=a.state.variables;e.after=a.state.pageInfo.endCursor,a.setState({isLoaded:!1}),a.getRepos(a.state.query,e)},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getRepos(this.state.query,this.state.variables),window.addEventListener("scroll",this.onScroll,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){var e=this.state.queryString,t=this.state,a=t.error,n=t.isLoaded,s=t.items,o=null,l=null;return a&&(o=r.a.createElement("div",null,a.message)),n||(l=r.a.createElement("div",{className:"loading-text"},"Loading...")),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"label"},"Github repository search"),r.a.createElement("p",{className:"label-caption"},"Scrolling just got more fun"),r.a.createElement("div",null,r.a.createElement("form",{className:"search",onSubmit:this.handleSearch},r.a.createElement("label",{htmlFor:"search"}),r.a.createElement("input",{type:"text",name:"search",value:e,placeholder:"search...",onChange:this.handleInputChange}),r.a.createElement("button",{type:"submit"},"Search"))),r.a.createElement("div",{className:"results"},a?o:l,s.map(function(e,t){return r.a.createElement(b,{key:t,description:e.node.description,url:e.node.url,name:e.node.resourcePath,stars:e.node.stargazers.totalCount,forks:e.node.forks.totalCount,updatedAt:e.node.updatedAt,homepageUrl:e.node.homepageUrl})})),r.a.createElement("div",{className:"loader",style:this.state.isLoaded?{display:"none"}:{display:"unset"}})))}}]),t}(r.a.Component);o.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.d96e202b.chunk.js.map