(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(47)},26:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(11),o=a.n(s),i=(a(26),a(3)),l=a.n(i),c=a(17),u=a(12),d=a(13),p=a(14),m=a(18),h=a(15),f=a(19),v=(a(5),a(16)),g=a.n(v),y=function(e){return r.a.createElement("div",{className:"list-item"},r.a.createElement("div",{className:"inline-item"},r.a.createElement("a",{href:e.url,target:"blank"},e.name),r.a.createElement("p",{className:"stars"},e.stars),r.a.createElement("p",{className:"forks"},e.forks)),r.a.createElement("p",null,e.description))},b="\nquery($first: Int!, $after: String, $query: String!, $type: SearchType!)\n{\n  search(first: $first, after: $after, query: $query, type: $type) {\n    edges {\n      node {\n        ... on Repository {\n          name\n          url\n          resourcePath\n          description\n          stargazers {\n            totalCount\n          }\n          forks {\n            totalCount\n          }\n          updatedAt\n        }\n      }\n    }\n    pageInfo {\n      startCursor\n      hasNextPage\n      endCursor\n    }\n  }\n}\n",E={first:15,after:null,query:"javascript",type:"REPOSITORY"},S=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={query:b,variables:E,error:null,isLoaded:!1,queryString:"javascript",items:[],pageInfo:{}},a.onScroll=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight-100&&a.state.items.length&&a.state.isLoaded&&a.addContent()},a.getRepos=function(){var e=Object(u.a)(l.a.mark(function e(t,n){var r,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("https://api.github.com/graphql",{query:t,variables:n},{headers:{Authorization:"token ".concat("")}});case 3:r=e.sent,s=Object(c.a)(a.state.items).concat(r.data.data.search.edges),a.setState(function(){return{isLoaded:!0,items:s,pageInfo:r.data.data.search.pageInfo}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a.setState(function(){return{error:e.t0}});case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}(),a.handleInputChange=function(e){a.setState({queryString:e.target.value})},a.handleSearch=function(e){e.preventDefault();var t=a.state.variables;t.query=a.state.queryString,a.setState({variables:t,isLoaded:!1,items:[]}),a.getRepos(a.state.query,a.state.variables)},a.addContent=function(){var e=a.state.variables;e.after=a.state.pageInfo.endCursor,a.setState({isLoaded:!1}),a.getRepos(a.state.query,e)},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getRepos(this.state.query,this.state.variables),window.addEventListener("scroll",this.onScroll,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){var e=this.state.queryString,t=this.state,a=t.error,n=t.isLoaded,s=t.items,o=null,i=null;return a&&(o=r.a.createElement("div",null,a.message)),n||(i=r.a.createElement("div",{className:"loading-text"},"Loading...")),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"label"},"Github repository search"),r.a.createElement("p",{className:"label-caption"},"Scrolling just got more fun"),r.a.createElement("div",null,r.a.createElement("form",{className:"search",onSubmit:this.handleSearch},r.a.createElement("label",{htmlFor:"search"}),r.a.createElement("input",{type:"text",name:"search",value:e,placeholder:"search...",onChange:this.handleInputChange}),r.a.createElement("button",{type:"submit"},"Search"))),r.a.createElement("div",{className:"results"},a?o:i,s.map(function(e,t){return r.a.createElement(y,{key:t,description:e.node.description,url:e.node.url,name:e.node.resourcePath,stars:e.node.stargazers.totalCount,forks:e.node.forks.totalCount,updatedAt:e.node.updatedAt})})),r.a.createElement("div",{className:"loader",style:this.state.isLoaded?{display:"none"}:{display:"unset"}})))}}]),t}(r.a.Component);o.a.render(r.a.createElement(S,null),document.getElementById("root"))},5:function(e,t,a){}},[[20,1,2]]]);
//# sourceMappingURL=main.2b903416.chunk.js.map